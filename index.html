<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Decade HocTap</title>

  <!-- √Åp theme s·ªõm ƒë·ªÉ tr√°nh nh√°y -->
  <script>
    (function(){
      try{
        var t = localStorage.getItem("ui.theme.decade");
        if(t) document.documentElement.setAttribute("data-theme", t);
      }catch(e){}
    })();
  </script>

  <!-- Gate: ·∫©n UI cho t·ªõi khi henshin + flash/logo xong -->
  <script>document.documentElement.classList.add('henshin-gate');</script>

  <link rel="stylesheet" href="styles.css" />
  <script defer src="app.js"></script>
</head>
<body>
  <!-- ===== TOPBAR (Logo gi·ªØa) ===== -->
  <header class="topbar">
    <!-- TR√ÅI -->
    <nav class="nav-left" aria-label="Tr√°i">
      <button class="tab-btn lvl-2" data-tab="gallery">Gallery</button>
      <button class="tab-btn lvl-1" data-tab="profile">C√° nh√¢n</button>
    </nav>

    <!-- GI·ªÆA: Logo Decade (Home) -->
    <button class="tab-btn tab-logo is-active" data-tab="home" aria-label="Trang ch·ªß">
      <img src="./assets/decade/decade-logo.png" alt="Decade Logo">
    </button>

    <!-- PH·∫¢I -->
    <nav class="nav-right" aria-label="Ph·∫£i">
      <!-- ch·∫°y hi·ªáu ·ª©ng r·ªìi M·ªöI ƒëi·ªÅu h∆∞·ªõng -->
      <a class="tab-btn lvl-1" href="./manage-courses/manage-courses.html"
         data-link="./manage-courses/manage-courses.html">Kh√≥a h·ªçc</a>
      <button class="tab-btn lvl-2" data-tab="login">Login</button>

      <!-- N√∫t S√°ng/T·ªëi -->
      <button class="tab-btn lvl-2 theme-toggle" type="button"
              data-theme-toggle aria-pressed="false" title="ƒê·ªïi giao di·ªán S√°ng/T·ªëi" aria-label="ƒê·ªïi giao di·ªán">
        <span class="icon" aria-hidden="true">üåô</span>
      </button>
    </nav>
  </header>

  <!-- Rider Belt: ch·ªçn nhanh theme + ƒëi·ªÅu h∆∞·ªõng (ch·ªâ hi·ªán khi hover topbar/belt) -->
  <nav id="rider-belt" class="belt-nav" aria-label="Rider belt quick themes"></nav>

  <!-- ===== PAGE ===== -->
  <main class="page">
    <section id="tab-home" class="tab-panel is-active" tabindex="0">
      <!-- ==== BANNER DECADE ==== -->
      <section class="home-banner" aria-label="Decade banner">
        <div class="banner-left">
          <h1 class="banner-title">
            Kamen Rider <span>Decade</span> UI
          </h1>
          <p class="banner-sub">
            S·ªçc h·ªìng neon ‚Ä¢ Frosted glass ‚Ä¢ Flash + Logo ‚Ä¢ Motion m∆∞·ª£t.
          </p>
          <div class="banner-actions">
            <a class="btn primary" href="./manage-courses/manage-courses.html" data-link="./manage-courses/manage-courses.html">B·∫Øt ƒë·∫ßu h·ªçc</a>
            <button class="btn" data-tab="gallery">Xem Gallery</button>
          </div>
        </div>

        <!-- ·∫¢nh Decade b√™n ph·∫£i -->
        <div class="banner-right">
          <img
            src="./assets/decade/decade-removebg-preview.png"
            alt="Decade Hero"
            decoding="async"
            loading="eager"
            draggable="false"
          >
        </div>
      </section>

      <!-- ===== Danh m·ª•c kh√≥a h·ªçc l·∫•y t·ª´ localStorage ===== -->
      <section id="home-courses" class="home-courses">
        <div class="card-grid home">
          <!-- c√°c th·∫ª s·∫Ω ƒë∆∞·ª£c app.js render -->
        </div>
      </section>
      <!-- (ƒê√É XO√Å) Kamen Rider Logos section -->
    </section>

    <section id="tab-profile" class="tab-panel" tabindex="0">
      <h1>C√° nh√¢n</h1>
      <p>N·ªôi dung h·ªì s∆°/c√° nh√¢n‚Ä¶</p>
    </section>

    <section id="tab-gallery" class="tab-panel" tabindex="0">
      <h1>Gallery</h1>
      <div class="card-grid">
        <div class="card"><h3>Henshin</h3><p>belt_open / belt_close / henshin_effect</p></div>
        <div class="card"><h3>Logo</h3><p>decade-logo.png</p></div>
        <div class="card"><h3>Sounds</h3><p>sound_1 / sound_2</p></div>
      </div>
    </section>

    <!-- ===== LOGIN (Decade ‚Äì qu·∫πt th·∫ª) ===== -->
    <section id="tab-login" class="tab-panel" tabindex="0">
      <h1>Login</h1>
      <div class="login-wrap">
        <div class="driver-slot" id="driver-slot" aria-label="Khe qu·∫πt th·∫ª ƒëƒÉng nh·∫≠p">
          <div class="slot-glow"></div>
          <div class="slot-bars"></div>
          <div class="slot-label">Swipe Rider Pass</div>
        </div>
        <button class="rider-pass" id="rider-pass" type="button" aria-label="Rider Pass (k√©o v√†o khe ƒë·ªÉ ƒëƒÉng nh·∫≠p)">
          <img src="./assets/decade/decade-logo.png" alt="Rider Pass">
          <span class="pass-chip"></span>
        </button>
        <audio id="login-swipe"  src="./assets/decade/sound_card_swipe.mp3" preload="auto"></audio>
        <audio id="login-accept" src="./assets/decade/sound_login_ok.mp3"   preload="auto"></audio>
      </div>
      <p class="login-hint">K√©o th·∫ª ‚ÄúRider Pass‚Äù v√†o khe ƒë·ªÉ ƒëƒÉng nh·∫≠p</p>
    </section>
  </main>

  <!-- ===== OVERLAY (henshin + flash/logo) ===== -->
  <div id="overlay" class="henshin-overlay" aria-hidden="true">
    <div class="bg-frost"></div>
    <div id="seq" class="seq"></div>
    <div id="flash" class="flash"></div>
    <img id="decade-logo" class="decade-logo" src="./assets/decade/decade-logo.png" alt="Decade emblem">

    <!-- DRIVER (ch·ªâ d√πng khi v√†o web) -->
    <button class="decade-driver" aria-label="Nh·∫•n ƒë·ªÉ ƒë√≥ng driver v√† ti·∫øp t·ª•c">
      <span class="shell left"></span>
      <span class="shell right"></span>
      <span class="core">
        <span class="slot"></span>
        <span class="pink-bars"></span>
      </span>
      <span class="tap-hint">Nh·∫•n driver ƒë·ªÉ ti·∫øp t·ª•c</span>
    </button>

    <!-- √Çm thanh -->
    <audio id="sound-open"  src="./assets/decade/sound_1.mp3" preload="auto"></audio>
    <audio id="sound-close" src="./assets/decade/sound_2.mp3" preload="auto"></audio>
  </div>

  <div class="toast" role="status" aria-live="polite"></div>

  <!-- Theme toggle -->
  <script>
    (function(){
      const THEME_KEY = "ui.theme.decade";
      const getTheme = ()=> document.documentElement.getAttribute('data-theme') || 'light';
      const setTheme = (t)=>{
        document.documentElement.setAttribute('data-theme', t);
        try{ localStorage.setItem(THEME_KEY, t); }catch{}
        const tbtn = document.querySelector('[data-theme-toggle]');
        if(tbtn){
          const icon = tbtn.querySelector('.icon');
          if(icon) icon.textContent = (t === 'dark' ? '‚òÄÔ∏é' : 'üåô');
          tbtn.setAttribute('aria-pressed', String(t === 'dark'));
        }
      };
      setTheme(getTheme());
      const tbtn = document.querySelector('[data-theme-toggle]');
      if(tbtn){
        tbtn.addEventListener('click', ()=>{
          const cur = getTheme();
          setTheme(cur === 'dark' ? 'light' : 'dark');
        });
      }
      document.querySelectorAll('.home-banner [data-tab]').forEach(b=>{
        b.addEventListener('click', ()=>{
          const target = b.getAttribute('data-tab');
          const btn = document.querySelector('.tab-btn[data-tab="'+target+'"]');
          if(btn) btn.click();
        });
      });
    })();
  </script>
</body>
</html>
